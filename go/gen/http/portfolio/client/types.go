// Code generated by goa v3.20.0, DO NOT EDIT.
//
// portfolio HTTP client types
//
// Command:
// $ goa gen github.com/reidlai/ta-workspace/modules/portfolio/go/design

package client

import (
	portfolio "github.com/reidlai/ta-workspace/modules/portfolio/go/gen/portfolio"
	goa "goa.design/goa/v3/pkg"
)

// ListResponseBody is the type of the "portfolio" service "list" endpoint HTTP
// response body.
type ListResponseBody []*InsightResponse

// SummaryResponseBody is the type of the "portfolio" service "summary"
// endpoint HTTP response body.
type SummaryResponseBody struct {
	// Total Balance
	Balance *float64 `form:"balance,omitempty" json:"balance,omitempty" xml:"balance,omitempty"`
	// Currency Code
	Currency *string `form:"currency,omitempty" json:"currency,omitempty" xml:"currency,omitempty"`
	// Trend Percentage
	TrendPercent *float64 `form:"trend_percent,omitempty" json:"trend_percent,omitempty" xml:"trend_percent,omitempty"`
	// Trend Direction
	TrendDirection *string `form:"trend_direction,omitempty" json:"trend_direction,omitempty" xml:"trend_direction,omitempty"`
}

// InsightResponse is used to define fields on response body types.
type InsightResponse struct {
	// Stock Symbol
	Symbol *string `form:"symbol,omitempty" json:"symbol,omitempty" xml:"symbol,omitempty"`
	// Market Sentiment
	Sentiment *string `form:"sentiment,omitempty" json:"sentiment,omitempty" xml:"sentiment,omitempty"`
	// Analysis Summary
	Summary *string `form:"summary,omitempty" json:"summary,omitempty" xml:"summary,omitempty"`
	// Recommended Action
	Action *string `form:"action,omitempty" json:"action,omitempty" xml:"action,omitempty"`
}

// NewListInsightOK builds a "portfolio" service "list" endpoint result from a
// HTTP "OK" response.
func NewListInsightOK(body []*InsightResponse) []*portfolio.Insight {
	v := make([]*portfolio.Insight, len(body))
	for i, val := range body {
		v[i] = unmarshalInsightResponseToPortfolioInsight(val)
	}

	return v
}

// NewSummary2OK builds a "portfolio" service "summary" endpoint result from a
// HTTP "OK" response.
func NewSummary2OK(body *SummaryResponseBody) *portfolio.Summary2 {
	v := &portfolio.Summary2{
		Balance:        *body.Balance,
		Currency:       *body.Currency,
		TrendPercent:   *body.TrendPercent,
		TrendDirection: *body.TrendDirection,
	}

	return v
}

// ValidateSummaryResponseBody runs the validations defined on
// SummaryResponseBody
func ValidateSummaryResponseBody(body *SummaryResponseBody) (err error) {
	if body.Balance == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("balance", "body"))
	}
	if body.Currency == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("currency", "body"))
	}
	if body.TrendPercent == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("trend_percent", "body"))
	}
	if body.TrendDirection == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("trend_direction", "body"))
	}
	if body.TrendDirection != nil {
		if !(*body.TrendDirection == "up" || *body.TrendDirection == "down" || *body.TrendDirection == "neutral") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.trend_direction", *body.TrendDirection, []any{"up", "down", "neutral"}))
		}
	}
	return
}

// ValidateInsightResponse runs the validations defined on InsightResponse
func ValidateInsightResponse(body *InsightResponse) (err error) {
	if body.Symbol == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("symbol", "body"))
	}
	if body.Sentiment == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("sentiment", "body"))
	}
	if body.Summary == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("summary", "body"))
	}
	if body.Action == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("action", "body"))
	}
	if body.Sentiment != nil {
		if !(*body.Sentiment == "bullish" || *body.Sentiment == "bearish" || *body.Sentiment == "neutral") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.sentiment", *body.Sentiment, []any{"bullish", "bearish", "neutral"}))
		}
	}
	return
}
